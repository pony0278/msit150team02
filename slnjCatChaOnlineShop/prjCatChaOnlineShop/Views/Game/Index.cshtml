@{
    ViewData["Title"] = "Index";
}

<!-- 遊戲相關 CSS -->
@section Styles{
    <link href="~/css/game/Mainstyle.css" rel="stylesheet" />
    <link href="~/css/game/gameinstructions.css" rel="stylesheet" />
    <link href="~/css/game/gachabutton.css" rel="stylesheet" />
    <link href="~/css/game/confirmWin.css" rel="stylesheet" />
    <style>
        #sidebar {
            width: 250px;
            height: 700px;
            position: fixed;
            top: 150px;
            right: -250px;
            background: #de9e4f;
            color: white;
        }

        .sidebarInside {
            position: absolute;
            right: 8px;
            width: 230px;
            height: 600px;
            background: white;
            border-radius: 10px;
        }

        .toggle {
            position: absolute;
            top: 20%;
            left: -30px;
            background: #de9e4f;
            width: 30px;
            height: 160px;
            border-radius: 10px 0 0 10px;
        }

        #toggleSidebar {
            position: absolute;
            border: 0px;
            background: transparent;
            bottom: 0;
            color: white;
        }
    </style>
}

<!-- Start 遊戲畫面 -->
<div class="canvas-container" @*style="display:none;"*@>
    <div id="Probability" style="display:none">
        <h2 style="text-align:center;">轉蛋機率表</h2>
        <div id="ItemsProbability" >
        </div>

    </div>
    <div class="gamelayer">
        <canvas id="Canvaslobby"></canvas>
        <!-- Start j轉蛋 -->
        <div id="CatchaGatCha">
            <div id="gachaShowCoin">
                <div id="gachaCCoinIcon"></div><p id="gachaTextCCoin">N/A</p>
                <div id="gachaRubyIcon"></div> <p id="gachaTextRuby">N/A</p>
            </div>
            <div class="animation-container">
                <button id="skipButton" style="display:none"></button>
                <img class="catcha SS" src="../images/game/gacha/SS.gif" style="display: none; ">
                <img class="catcha CATS" src="../images/game/gacha/CATS.gif" style="display: none;">
                <img class="catcha S" src="../images/game/gacha/S.gif" style="display: none;">
                <img class="catcha A" src="../images/game/gacha/A.gif" style="display: none;">
            </div>
           
            <div id="summon-buttons">
                <button id="btnProBability"></button>
                @*返回大廳按鈕*@
                <button id="commonbackBTN"></button>
                @*轉蛋按鈕*@
                <div class="buttonRow">
                    <button id="CatPointSingleDrow"></button>
                    <button id="CatPointTenDrows"></button>
                </div><br />
                <div class="buttonRow">
                    <button id="RubySingleDrow"></button>
                    <button id="RubyTenDrows"></button>
                </div>
                
            </div>
            <div id="result" class="result-container"></div>
            @* 使用者貓幣紅利顯示*@
           
        </div>
        <!-- End 轉蛋 -->
        <!-- Start 小遊戲說明提示 -->
        <div id="popup">
            <div class="instructions-container" style=" display:none;">
                <!-- 返回鍵 -->
                <button id="closeinstruction" class=" btn-secondary" onclick="hideInstructions()">x</button>
                <div class="text">
                    <div id="a" class="xx">
                        遊戲說明
                        <img src="~/images/game/runGame/rungameIntro1.png">
                    </div>
                    <div id="b" class="xx">
                        遊戲說明
                        <img src="~/images/game/runGame/rungameIntro2.png">
                    </div>
                    <div id="c" class="xx">
                        遊戲說明
                        <img src="~/images/game/runGame/rungameIntro3.png">
                        <button id="startRunGameBTN" class="btn">Start</button>
                    </div>
                </div>
                <!-- 設定開關鈕 -->
            </div>
            <nav class="pagination-container" aria-label="Page navigation example">
                <ul class="pagination" style="display:none;">
                    <li class="page-item"><a class="btn btn-outline-info" href="#" onclick="showPage('a')">1</a></li>
                    <li class="page-item"><a class="btn btn-outline-info" href="#" onclick="showPage('b')">2</a></li>
                    <li class="page-item"><a class="btn btn-outline-info" href="#" onclick="showPage('c')">3</a></li>
                </ul>
            </nav>
        </div>
        <!-- End 小遊戲說明提示 -->
        <!-- Start 獲得物品確認視窗 -->
        <div id="confirmWin">
            <div id="confirmWin-container">
                <button id="closeinstruction" class=" btn-secondary" onclick="closeConfirmWin()">x</button>
                <div id="confirmWin-title">
                    N/A
                </div>
                <div id="confirmWin-text">
                    N/A
                </div>
                <input id="confirmWin-fillin" maxlength="7" type="text"  style="display:none;" />
            </div>
            <button id="confirmWinBTN" onclick="closeConfirmWin()">確認</button>
        </div>
   
    <!-- End 獲得物品確認視窗 -->
    <!-- Start Canvas遊戲畫布 -->
    <div id="CanvasRank">
        <button id="commonbackBTN" style="top:20px !important;" onclick="pagesControl(Canvaslobby)"></button>
        <div id="rank-container">
            <div id="rankpage-title">小遊戲排行榜</div>
            <table id="emTable" class="table table-striped">
                <thead>
                    <tr>
                        <th style="width: 60px;">排名</th>
                        <th>玩家名稱</th>
                        <th>分數</th>
                    </tr>
                </thead>
                <tbody>
                
                </tbody>
            </table>
        </div>
    </div>
    <canvas id="CanvasCheckIn"></canvas>
    <canvas id="Canvasrungame"></canvas>
    <canvas id="CanvasGatcha"></canvas>
    <canvas id="CanvasStore"></canvas>
    <canvas id="CanvasSummonResult"></canvas>
    <canvas id="CanvasDoubleCheck"></canvas>
    </div>
    <!-- End Canvas遊戲畫布 -->
</div>
<div id="userMemberidlogin" style="display: none";>
    <label for="memberId">請輸入memberId: </label>
    <input type="text" id="memberId" name="memberId" pattern="[0-9]*"><br><br>
    <input type="submit" id="memberIdLogin" value="Submit">
</div>
<div id="registerForm" style="display: none;">

    <label for="characterName">請輸入CharacterName: </label>
    <input type="text" id="characterName" name="characterName"><br><br>

    <button id="registerButton">註冊</button>
</div>

<button type="submit" id="testDBlogin"style="display:none">測試資料庫登入</button>


<div id="sidebar">
    <h2>聊天室</h2>
    <div class="sidebarInside"></div>
    <div class="toggle">
        <button id="toggleSidebar"><i class="fa-solid fa-arrow-left-long"></i>遊戲聊天室</button>
    </div>
</div>

<!-- End 遊戲畫面 -->
<!-- 遊戲相關js -->
@section Scripts{
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="~/js/game/DBIformation.js"></script>
    <script src="~/js/game/GameLogin.js"></script>
    <script src="~/js/game/Main.js"></script>
    <script src="~/js/game/function.js"></script>
    <script src="~/js/game/button.js"></script>
    <script src="~/js/game/RunGame.js"></script>
    <script src="~/js/game/Checkin.js"></script>
    <script src="~/js/game/doubleCheckWindow.js"></script>
    <script src="~/js/game/Summon.js"></script>
    <script src="~/js/game/SummonResult.js"></script>
    <script src="~/js/game/CanvasButton.js"></script>
    <script src="~/js/game/loadImages.js"></script>
    <script src="~/js/game/instructions.js"></script>
    <script src="~/js/game/catFeed.js"></script>

    <!--排行榜測試資料-->
    <script>
        $('#toggleSidebar').click(function () {
            var right = $('#sidebar').css('right') === '0px' ? '-250px' : '0px';
            $('#sidebar').animate({ right: right });
        });
        const rank = {
            "排名": [
                { "name": "N/A", "排名": "N/A", "分數": "N/A" },

            ]
        };
        fetchDataAndProcess();
        initialize();
    </script>

        }



